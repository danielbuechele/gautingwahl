{"version":3,"sources":["types.ts","Menubar.tsx","Card.tsx","useThrowawayCard.ts","useIsMounted.ts","AnswerEmoji.tsx","GameCard.tsx","useAnswers.ts","Game.tsx","ContentCard.tsx","Results.tsx","Welcome.tsx","Info.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Party","Tag","Answer","Screen","Menubar","history","useHistory","match","useRouteMatch","INFO","isInfoScreen","path","className","to","START","onClick","goBack","React","forwardRef","props","ref","children","style","rest","isMounted","useState","setIsMounted","useEffect","setTimeout","useIsMounted","styles","opacity","getRotation","deltaX","threshold","num","min","max","length","x","y","Math","sqrt","pow","useThrowawayCard","config","setDeltaX","deltaY","setDeltaY","swipeEvent","setSwipeEvent","translateDuration","setTranslateDuration","isSwiping","setIsSwiping","result","setResult","onBlur","window","addEventListener","removeEventListener","handlers","useSwipeable","delta","preventDefaultTouchmoveEvent","trackTouch","trackMouse","rotationAngle","onSwiping","abs","POSITIVE","NEGATIVE","onSwiped","e","document","body","overflow","useLayoutEffect","innerHeight","height","innerWidth","width","distanceSoFar","multiplier","timeSoFar","velocity","timeLeft","onNext","transitions","setResultProgrammatically","useCallback","answer","direction","transform","transition","property","duration","map","join","AnswerEmoji","value","role","aria-label","GameCard","number","total","question","tags","t","key","useAnswers","Object","keys","sessionStorage","filter","test","parseInt","replace","reduce","acc","getItem","clear","Game","data","questions","QUESTION","currentQuestion","params","id","NEUTRAL","state","setState","setItem","useAnswer","setAnswer","push","RESUTLS","ContentCard","LOGOS","values","party","i","set","Map","Results","answers","results","percentage","sum","q","sort","a","b","src","get","alt","round","explanation","Welcome","clearAnswers","restart","Info","require","App","Boolean","location","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.11b8fab4.chunk.js","sourcesContent":["export enum Party {\n  CSU = \"CSU\",\n  GRÜNE = \"Grüne\",\n  SPD = \"SPD\",\n  FDP = \"FDP\",\n  MFG = \"MfG/Piraten\",\n  UBG = \"UBG\",\n  MIFÜ = \"MiFü 82131\"\n}\n\nexport enum Tag {\n  VERKEHR = \"🚗 Verkehr\",\n  BAUEN_WOHNEN = \"🏡 Bauen & Wohnen\",\n  FINANZEN = \"💰 Finanzen\"\n}\n\nexport enum Answer {\n  POSITIVE,\n  NEGATIVE,\n  NEUTRAL\n}\n\nexport enum Screen {\n  START = \"/\",\n  INFO = \"/info\",\n  RESUTLS = \"/results\",\n  QUESTION = \"/these\"\n}\n\nexport type AnswerGroup = {\n  [key in Party]: {\n    answer: Answer;\n    explanation: string | null;\n  };\n};\n\nexport type Data = {\n  questions: Array<{\n    question: string;\n    tags: Tag[];\n    answers: AnswerGroup;\n  }>;\n};\n","import React from \"react\";\nimport { NavLink, useRouteMatch, useHistory } from \"react-router-dom\";\nimport { Screen } from \"./types\";\n\nimport \"./Menubar.css\";\n\nfunction Menubar() {\n  const history = useHistory();\n  const match = useRouteMatch(Screen.INFO);\n  const isInfoScreen = match?.path === Screen.INFO;\n\n  return (\n    <div className=\"Menubar\">\n      <NavLink to={Screen.START}>\n        <h1>\n          GautingWahl<em>2020</em>\n        </h1>\n      </NavLink>\n\n      {isInfoScreen ? (\n        <button className=\"nav\" onClick={() => history.goBack()}>\n          zurück\n        </button>\n      ) : (\n        <NavLink className=\"nav\" to={Screen.INFO}>\n          Infos\n        </NavLink>\n      )}\n    </div>\n  );\n}\n\nexport default Menubar;\n","import React, { useState, useEffect } from \"react\";\nimport \"./Card.css\";\n\nfunction useIsMounted() {\n  const [isMounted, setIsMounted] = useState(false);\n  useEffect(() => {\n    setTimeout(() => setIsMounted(true), 50);\n  }, []);\n  return isMounted;\n}\n\nexport default React.forwardRef(\n  (\n    props: React.DetailedHTMLProps<\n      React.HTMLAttributes<HTMLDivElement>,\n      HTMLDivElement\n    >,\n    ref: React.Ref<HTMLDivElement>\n  ) => {\n    const { children, className, style, ...rest } = props;\n    const isMounted = useIsMounted();\n\n    const styles = {\n      ...style,\n      opacity: isMounted ? 1 : 0\n    };\n\n    return (\n      <div className={`Card ${className}`} ref={ref} style={styles} {...rest}>\n        {props.children}\n      </div>\n    );\n  }\n);\n","import { useSwipeable, EventData } from \"react-swipeable\";\nimport { useState, useEffect, useLayoutEffect, useCallback } from \"react\";\nimport { Answer } from \"./types\";\nimport useIsMounted from \"./useIsMounted\";\n\ntype Result = null | Answer.POSITIVE | Answer.NEGATIVE;\n\nfunction clamp(num: number, min: number, max: number): number {\n  return num <= min ? min : num >= max ? max : num;\n}\n\nfunction getRotation(deltaX: number, threshold: number): number {\n  const maxRotation = 4;\n  const p = clamp(deltaX / threshold, -1, 1);\n  return p * maxRotation;\n}\n\nfunction length(x: number, y: number) {\n  return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n}\n\nfunction getTransitions(\n  transitions: Array<{ property: string; duration: number }>\n): string {\n  return transitions\n    .map(({ property, duration }) => `${property} ${duration}ms`)\n    .join(\", \");\n}\n\nexport default function useThrowawayCard(config: {\n  onNext: (answer: Answer) => void;\n  threshold: number;\n  width: number;\n  height: number;\n}) {\n  const [deltaX, setDeltaX] = useState(0);\n  const [deltaY, setDeltaY] = useState(0);\n  const [swipeEvent, setSwipeEvent] = useState<EventData | null>(null);\n  const [translateDuration, setTranslateDuration] = useState(200);\n  const [isSwiping, setIsSwiping] = useState(false);\n  const [result, setResult] = useState<Result>(null);\n  useEffect(() => {\n    const onBlur = () => {\n      setResult(null);\n      setDeltaX(0);\n      setDeltaY(0);\n      setIsSwiping(false);\n    };\n    window.addEventListener(\"blur\", onBlur);\n    return () => {\n      window.removeEventListener(\"blur\", onBlur);\n    };\n  }, []);\n\n  const isMounted = useIsMounted();\n\n  const handlers = useSwipeable({\n    delta: 0,\n    preventDefaultTouchmoveEvent: false,\n    trackTouch: true,\n    trackMouse: true,\n    rotationAngle: 0,\n    onSwiping: ({ deltaX, deltaY }) => {\n      setDeltaX(deltaX * -1);\n      setDeltaY(deltaY * -1);\n      setIsSwiping(true);\n      if (Math.abs(deltaX) > config.threshold) {\n        setResult(deltaX < 0 ? Answer.POSITIVE : Answer.NEGATIVE);\n      } else {\n        setResult(null);\n      }\n    },\n    onSwiped: e => {\n      setSwipeEvent(e);\n      setIsSwiping(false);\n    }\n  });\n\n  useEffect(() => {\n    document.body.style.overflow = \"hidden\";\n    return () => {\n      document.body.style.overflow = \"auto\";\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    if (!swipeEvent) {\n      return;\n    }\n    setSwipeEvent(null);\n    if (result === null) {\n      setDeltaX(0);\n      setDeltaY(0);\n    } else {\n      // assuming card is in the middle of screen\n      const y = window.innerHeight / 2 + config.height / 2;\n      const x = window.innerWidth / 2 + config.width / 2;\n\n      const distanceSoFar = length(swipeEvent.deltaX, swipeEvent.deltaY);\n      const distanceTotal = length(x, y);\n      const multiplier = distanceTotal / distanceSoFar;\n\n      setDeltaX(deltaX * multiplier);\n      setDeltaY(deltaY * multiplier);\n\n      const timeSoFar = 1 / (swipeEvent.velocity / distanceSoFar);\n      const timeLeft = Math.min(750, timeSoFar * multiplier - timeSoFar);\n\n      setTranslateDuration(timeLeft);\n\n      setTimeout(() => {\n        config.onNext(result);\n      }, timeLeft);\n    }\n  }, [swipeEvent, result, deltaX, deltaY, config]);\n\n  const setResultProgrammatically = useCallback(\n    (answer: Answer.POSITIVE | Answer.NEGATIVE) => {\n      setResult(answer);\n      setTimeout(() => {\n        const direction = answer === Answer.POSITIVE ? 1 : -1;\n        setDeltaX(direction * (window.innerWidth / 2 + config.width));\n        setTranslateDuration(500);\n        setTimeout(() => config.onNext(answer), 500);\n      }, 300);\n    },\n    [config]\n  );\n\n  const style = {\n    transform: `translate(calc(-50% + ${deltaX}px), calc(-50% + ${deltaY}px)) rotate(${getRotation(\n      deltaX,\n      config.threshold\n    )}deg) scale(${isMounted ? 1 : 0.3})`,\n    transition: getTransitions([\n      { property: \"box-shadow\", duration: 200 },\n      { property: \"transform\", duration: isSwiping ? 0 : translateDuration },\n      { property: \"opacity\", duration: 500 },\n      { property: \"scale\", duration: 500 }\n    ])\n  };\n\n  return { handlers, style, isSwiping, result, setResultProgrammatically };\n}\n","import { useState, useEffect } from \"react\";\n\nexport default function useIsMounted() {\n  const [isMounted, setIsMounted] = useState(false);\n  useEffect(() => {\n    setTimeout(() => setIsMounted(true), 50);\n  }, []);\n  return isMounted;\n}\n","import React from \"react\";\nimport { Answer } from \"./types\";\n\nexport default function AnswerEmoji(props: { value: Answer }) {\n  if (props.value === Answer.POSITIVE) {\n    return (\n      <span role=\"img\" aria-label=\"stimme zu\" className=\"emoji\">\n        👍\n      </span>\n    );\n  } else if (props.value === Answer.NEGATIVE) {\n    return (\n      <span role=\"img\" aria-label=\"stimme nicht zu\" className=\"emoji\">\n        👎\n      </span>\n    );\n  } else {\n    return (\n      <span role=\"img\" aria-label=\"neutral\" className=\"emoji\">\n        ❓\n      </span>\n    );\n  }\n}\n","import React from \"react\";\nimport { Answer, Tag } from \"./types\";\nimport Card from \"./Card\";\nimport useThrowawayCard from \"./useThrowawayCard\";\nimport \"./GameCard.css\";\nimport AnswerEmoji from \"./AnswerEmoji\";\n\nexport default function GameCard(props: {\n  number: number;\n  total: number;\n  question: string;\n  tags: Tag[];\n  value: Answer;\n  onNext: (answer: Answer) => void;\n}) {\n  const { onNext, value } = props;\n  const {\n    handlers,\n    style,\n    isSwiping,\n    result,\n    setResultProgrammatically\n  } = useThrowawayCard({ onNext, threshold: 80, width: 300, height: 400 });\n\n  return (\n    <Card\n      className={`GameCard ${isSwiping ? \"swiping\" : \"\"}`}\n      {...handlers}\n      style={style}\n    >\n      <div className=\"info\">\n        These {props.number} von {props.total}\n      </div>\n      <div className=\"question\">\n        <p>{props.question}</p>\n        {props.tags.map(t => (\n          <span key={t} className=\"tag\">\n            {t}\n          </span>\n        ))}\n      </div>\n      <div>\n        <button\n          onClick={() => setResultProgrammatically(Answer.NEGATIVE)}\n          className={\n            (value === Answer.NEGATIVE && result === null) ||\n            result === Answer.NEGATIVE\n              ? \"negative-active\"\n              : \"\"\n          }\n        >\n          <AnswerEmoji value={Answer.NEGATIVE} />\n        </button>\n        <button\n          onClick={() => setResultProgrammatically(Answer.POSITIVE)}\n          className={\n            (value === Answer.POSITIVE && result === null) ||\n            result === Answer.POSITIVE\n              ? \"positive-active\"\n              : \"\"\n          }\n        >\n          <AnswerEmoji value={Answer.POSITIVE} />\n        </button>\n      </div>\n    </Card>\n  );\n}\n","import { Answer } from \"./types\";\nimport { useCallback, useState, useEffect } from \"react\";\n\nexport function useAnswer(\n  question: number\n): [Answer, (answer: Answer) => void] {\n  const [state, setState] = useState<Answer>(Answer.NEUTRAL);\n  const key = `question${question}`;\n  useEffect(() => {\n    const value = sessionStorage.getItem(key) as keyof typeof Answer | null;\n    let answer = Answer.NEUTRAL;\n    if (value !== null) {\n      answer = Answer[value];\n    }\n    setState(answer);\n  }, [key]);\n\n  const setAnswer = useCallback(\n    (answer: Answer) => {\n      sessionStorage.setItem(key, Answer[answer]);\n      setState(answer);\n    },\n    [key]\n  );\n  return [state, setAnswer];\n}\n\nexport function useAnswers(): [Answer[], () => void] {\n  const answers = Object.keys(sessionStorage)\n    .filter(key => /question\\d+/.test(key))\n    .map(key => parseInt(key.replace(\"question\", \"\"), 10))\n    .reduce((acc, key) => {\n      const value = sessionStorage.getItem(\n        `question${key}`\n      ) as keyof typeof Answer;\n      acc[key] = Answer[value];\n      return acc;\n    }, [] as Answer[]);\n\n  const clearAnswers = useCallback(() => {\n    sessionStorage.clear();\n  }, []);\n\n  return [answers, clearAnswers];\n}\n","import React, { useCallback } from \"react\";\nimport \"./Game.css\";\nimport GameCard from \"./GameCard\";\nimport AnswerEmoji from \"./AnswerEmoji\";\nimport { Answer, Data, Screen } from \"./types\";\nimport { useRouteMatch, useHistory } from \"react-router-dom\";\nimport { useAnswer } from \"./useAnswers\";\n\nexport default function Game(props: { data: Data }) {\n  const total = props.data.questions.length;\n  const match = useRouteMatch<{ id: string }>(Screen.QUESTION + \"/:id\");\n  const currentQuestion = parseInt(match?.params.id || \"1\", 10) - 1;\n  const [answer, setAnswer] = useAnswer(currentQuestion);\n  const history = useHistory();\n  const onNext = useCallback(\n    (answer: Answer) => {\n      setAnswer(answer);\n      if (currentQuestion < total - 1) {\n        history.push(Screen.QUESTION + `/${currentQuestion + 2}`);\n      } else {\n        history.push(Screen.RESUTLS);\n      }\n    },\n    [setAnswer, currentQuestion, total, history]\n  );\n\n  return (\n    <>\n      <GameCard\n        key={`question${currentQuestion}`}\n        onNext={onNext}\n        number={currentQuestion + 1}\n        total={total}\n        question={props.data.questions[currentQuestion].question}\n        tags={props.data.questions[currentQuestion].tags}\n        value={answer}\n      />\n      <button\n        className=\"skip\"\n        onClick={() => {\n          setAnswer(Answer.NEUTRAL);\n          setTimeout(() => onNext(Answer.NEUTRAL), 300);\n        }}\n      >\n        <AnswerEmoji value={Answer.NEUTRAL} />\n        These überspringen\n      </button>\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./ContentCard.css\";\nimport Card from \"./Card\";\n\nexport default function ContentCard(\n  props: React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n  >\n) {\n  return (\n    <Card className={`${props.className} ContentCard`}>{props.children}</Card>\n  );\n}\n","import React from \"react\";\nimport \"./Results.css\";\nimport ContentCard from \"./ContentCard\";\nimport { Data, Party } from \"./types\";\nimport { useAnswers } from \"./useAnswers\";\nimport AnswerEmoji from \"./AnswerEmoji\";\n\nconst LOGOS = Object.values(Party).reduce(\n  (acc, party, i) => acc.set(party, `/party${i}.svg`),\n  new Map<Party, string>()\n);\n\nexport default function Results(props: { data: Data }) {\n  const [answers] = useAnswers();\n  const total = props.data.questions.length;\n\n  const results: Array<{\n    party: Party;\n    percentage: number;\n  }> = Object.values(Party)\n    .map(party => ({\n      party,\n      percentage:\n        props.data.questions.reduce((sum, q, i) => {\n          if (q.answers[party].answer === answers[i]) {\n            sum++;\n          }\n          return sum;\n        }, 0) / total\n    }))\n    .sort((a, b) => b.percentage - a.percentage);\n\n  return (\n    <>\n      <ContentCard className=\"Results\">\n        <h2>Ergebnis</h2>\n        <ol>\n          {results.map(({ party, percentage }) => (\n            <li key={party} className=\"ResultRow\">\n              <img src={LOGOS.get(party)} alt={`Logo ${party}`} />\n              <strong className=\"partyName\">{party}</strong>\n              {Math.round(percentage * 100)}%\n            </li>\n          ))}\n        </ol>\n      </ContentCard>\n      <ContentCard className=\"Results\">\n        <h2>Details</h2>\n        <ol>\n          {props.data.questions.map((q, i) => (\n            <li key={i}>\n              <h3>\n                {i + 1}) {q.question}\n              </h3>\n              <ul>\n                <li className=\"answer\">\n                  <AnswerEmoji value={answers[i]} />\n                  <strong>Deine Antwort</strong>\n                </li>\n                {Object.values(Party).map(party => (\n                  <li\n                    key={party}\n                    className={`answer ${\n                      q.answers[party].answer !== answers[i] ? \"different\" : \"\"\n                    }`}\n                  >\n                    <AnswerEmoji value={q.answers[party].answer} />\n                    <div>\n                      <strong>{party}</strong>\n                      {q.answers[party].explanation && (\n                        <span className=\"explanation\">\n                          {q.answers[party].explanation}\n                        </span>\n                      )}\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </li>\n          ))}\n        </ol>\n      </ContentCard>\n    </>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport Card from \"./Card\";\nimport { Screen } from \"./types\";\nimport useThrowawayCard from \"./useThrowawayCard\";\nimport { Party } from \"./types\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAnswers } from \"./useAnswers\";\n\nexport default function Welcome(props: { total: number }) {\n  const history = useHistory();\n  const [, clearAnswers] = useAnswers();\n  const onNext = useCallback(() => {\n    clearAnswers();\n    history.push(Screen.QUESTION + \"/1\");\n  }, [clearAnswers, history]);\n  const { handlers, style } = useThrowawayCard({\n    onNext,\n    width: 400,\n    height: 500,\n    threshold: 80\n  });\n\n  const restart = sessionStorage.getItem(\"question0\") !== null;\n\n  return (\n    <Card {...handlers} style={style}>\n      <h2>Willkommen</h2>\n      <p>\n        Beim Themen-Check des Jugendbeirats zur Kommunalwahl 2020 in Gauting\n        kannst du {props.total} Thesen beantworten und sehen mit welcher der{\" \"}\n        {Object.keys(Party).length} Parteien du am meisten übereinstimmst.\n      </p>\n      <div>\n        <button onClick={onNext} className=\"primary\">\n          {restart ? \"Neustarten\" : \"Los geht's\"}\n        </button>\n        {restart && (\n          <button onClick={() => history.push(Screen.RESUTLS)}>Ergebnis</button>\n        )}\n      </div>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport ContentCard from \"./ContentCard\";\n\nexport default function Info() {\n  return (\n    <>\n      <ContentCard>\n        <h2>Informationen</h2>\n        <p>...</p>\n      </ContentCard>\n      <ContentCard>\n        <h2>Impressum</h2>\n        <p>...</p>\n      </ContentCard>\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Menubar from \"./Menubar\";\nimport Game from \"./Game\";\nimport Results from \"./Results\";\nimport { Data, Screen } from \"./types\";\nimport Welcome from \"./Welcome\";\nimport Info from \"./Info\";\nimport { Switch, Route } from \"react-router-dom\";\nconst data: Data = require(\"./data.json\");\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Menubar />\n      <Switch>\n        <Route path={Screen.INFO}>\n          <Info />\n        </Route>\n        <Route path={Screen.RESUTLS}>\n          <Results data={data} />\n        </Route>\n        <Route path={Screen.QUESTION}>\n          <Game data={data} />\n        </Route>\n        <Route path={Screen.START}>\n          <Welcome total={data.questions.length} />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}